<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>An eleventy blog, with knitr</title>

        <!-- syntax highlighting --> 
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">

        <!-- font -->
        <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

        <!-- skeleton template -->
        <link rel="stylesheet" href="/normalize.css">
        <link rel="stylesheet" href="/skeleton.css">
    </head>
    
    <!-- post body -->
    <body>
        <div class = "container" style = "padding-top: 2rem; padding-bottom: 2rem;">
            <div class = "row">
                <a class="button" href="/">Home</a>
                <a class="button" href="https://github.com/djnavarro/knitr-11ty">GitHub Page</a>
                <a class="button" href="https://djnavarro.net">Danielle's Home Page</a>
            </div>
        </div>

        <div class="container">
            <h1>Notes for the project</h1>

            <p>This is also a plain markdown post. Also kind of serves as my changelog for this project!</p>
<ul>
<li>First step was installing eleventy via npm and following this minimal <a href="https://www.filamentgroup.com/lab/build-a-blog/">tutorial</a>. At this point I created a minimal <code>layout.liquid</code> file, some <code>.md</code> files in a <code>posts</code> folder, and <code>index.html</code> file in the root folder to create the index page, and a <code>posts.json</code> file in the posts folder to ensure that everything in the <code>posts</code> folder is automatically given a &quot;posts&quot; tag</li>
<li>Second step was installing the eleventy <a href="https://www.11ty.dev/docs/plugins/syntaxhighlight/">syntax highlighting</a> plugin and adding it to the <code>.eleventy.js</code> configuration file in the project root folder. To get it working you also need to modify the template in the <code>layout.liquid</code> file so that it loads the PrismJS syntax highlighting JS from your favourite CDN. Once that was complete, code blocks show syntax highlighting but of course they do not execute:</li>
</ul>
<pre class="language-r"><code class="language-r">add_one <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
add_one<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></code></pre>
<ul>
<li>Third step was to test the basic idea for knitr integration. I created a post with the <code>.kmd</code> file extension, in which the R code chunks are written using knitr syntax. Eleventy ignores this file, but I can call <code>knitr::knit()</code> to create a knitted markdown file with the <code>.md</code> file extension. Eleventy picks up this <code>.md</code> file and creates the corresponding <code>.html</code> for the blog</li>
<li>Fourth step was remembering that I should probably have this in a git repo... so yeah. Added the <code>_site</code> folder to <code>.gitignore</code> for now. I also wanted a <code>README.md</code> file for github that isn't part of the blog, so now I need to add an <code>.eleventyignore</code> file (see <a href="https://www.11ty.dev/docs/ignores/">here</a>) too so that eleventy doesn't try to include the readme in the static site</li>
<li>Fifth step is to add some nice css styling. I could write my own but why? Instead I chose to use <a href="https://getskeleton.com">skeleton</a> for lightweight css templating. There's a few ways for eleventy to handle <a href="https://www.11ty.dev/docs/assets/">static assets</a>: I took the easiest path and added a passthrough to my <code>.eleventy.js</code> file</li>
<li>Sixth step is to set it up to deploy to github pages. The output needs to go to <code>docs</code> rather than <code>_site</code>, and we need to ensure that eleventy ignores the <code>docs</code> folder. Also need a <code>.nojekyll</code> file with a passthrough so it ends up in the <code>docs</code> folder</li>
</ul>

        </div>
    </body>
</html>